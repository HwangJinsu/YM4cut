# 포토부스 앱 상세 요구사항 문서 (SRS)

**프로젝트명:** 인생네컷 스타일 포토부스 애플리케이션  
**버전:** 1.0  
**작성일:** 2025-11-07  
**대상 플랫폼:** Windows 10/11

---

## 목차

1. [개요](#1-개요)
2. [시스템 요구사항](#2-시스템-요구사항)
3. [기능 요구사항](#3-기능-요구사항)
4. [비기능 요구사항](#4-비기능-요구사항)
5. [UI/UX 요구사항](#5-uiux-요구사항)
6. [하드웨어 인터페이스 요구사항](#6-하드웨어-인터페이스-요구사항)
7. [데이터 요구사항](#7-데이터-요구사항)
8. [성능 요구사항](#8-성능-요구사항)
9. [보안 및 안정성 요구사항](#9-보안-및-안정성-요구사항)
10. [테스트 요구사항](#10-테스트-요구사항)

---

## 1. 개요

### 1.1 목적
본 문서는 Windows 환경에서 작동하는 셀프 포토부스 애플리케이션의 개발을 위한 상세 요구사항을 정의한다. 이 시스템은 USB 카메라와 프린터를 제어하여 사용자가 터치스크린을 통해 사진을 촬영하고 즉시 인쇄할 수 있는 '인생네컷' 스타일의 서비스를 제공한다.

### 1.2 범위
- **포함 범위:**
  - 터치스크린 기반 사용자 인터페이스
  - USB 카메라 제어 및 실시간 프리뷰
  - 자동 사진 촬영 (4장 연속)
  - 이미지 합성 및 템플릿 적용
  - 프린터 자동 출력
  - 설정 관리 (템플릿, 메인 이미지 업로드)

- **제외 범위:**
  - 결제 시스템 연동
  - 원격 관리 기능
  - 클라우드 저장
  - 모바일 앱 연동

### 1.3 용어 정의

| 용어 | 정의 |
|------|------|
| 인생네컷 | 4장의 사진을 세로로 배열한 포토 스트립 형식 |
| 템플릿 | 사진 배치를 위한 배경 이미지 (1:3 비율) |
| 최종 이미지 | 템플릿과 사진이 합성되고 좌우 복제된 이미지 (2:3 비율) |
| 출력 매수 | 사용자가 선택한 인쇄 매수 (실제 출력은 ÷2 후 반올림) |
| 셔터 효과 | 사진 촬영 시 화면 플래시 및 사운드 효과 |

---

## 2. 시스템 요구사항

### 2.1 하드웨어 요구사항

#### 최소 사양
- **CPU:** Intel Core i5 8세대 또는 동급
- **RAM:** 8GB 이상
- **저장공간:** SSD 256GB 이상 (최소 50GB 여유 공간)
- **디스플레이:** 터치스크린 모니터 (최소 1920x1080, 권장 1080x1920 세로 모드)
- **USB 포트:** USB 3.0 x 2개 이상

#### 권장 사양
- **CPU:** Intel Core i7 10세대 또는 동급
- **RAM:** 16GB
- **저장공간:** SSD 512GB
- **GPU:** 내장 그래픽 이상 (이미지 처리 가속용)

### 2.2 외부 장치 요구사항

#### 카메라
- **연결:** USB 2.0/3.0
- **해상도:** 최소 1080p (1920x1080)
- **프레임레이트:** 30fps 이상
- **지원 포맷:** MJPEG, YUY2
- **호환성:** UVC (USB Video Class) 표준 지원

#### 프린터
- **연결:** USB 또는 네트워크
- **타입:** 캐논 셀피 포토프린터 기준
- **용지:** 4x6 inch 포토 용지
- **인쇄 속도:** 장당 30초 이내
- **드라이버:** Windows 10/11 호환

### 2.3 소프트웨어 요구사항

#### 운영체제
- Windows 10 (64-bit, 버전 1809 이상)
- Windows 11 (64-bit)

#### 런타임 환경
- Node.js 18.x 이상 (Electron 사용 시)
- Python 3.10+ (Python 구현 시)

#### 필수 라이브러리
- **Electron 기반:**
  - Electron 28.x
  - React 18.x
  - Redux Toolkit 2.x
  - Sharp 0.33.x (이미지 처리)
  - node-printer (프린터 제어)

- **Python 기반:**
  - PyQt6 6.6.x
  - OpenCV 4.8.x
  - Pillow 10.x
  - pywin32 (프린터 제어)

---

## 3. 기능 요구사항

### 3.1 홈 화면 (FR-HOME)

#### FR-HOME-001: 메인 이미지 표시
- **우선순위:** 필수
- **설명:** 앱 시작 시 설정된 메인 이미지를 전체 화면에 표시
- **입력:** 설정에서 업로드된 이미지 경로
- **출력:** 화면 중앙에 이미지 렌더링
- **규칙:**
  - 이미지가 없을 경우 기본 이미지 표시
  - 이미지는 화면 비율에 맞게 자동 조정 (aspect ratio 유지)
  - 이미지 로딩 실패 시 에러 메시지 표시

#### FR-HOME-002: 시작 버튼
- **우선순위:** 필수
- **설명:** 화면 중앙에 큰 터치 가능한 시작 버튼 표시
- **입력:** 사용자 터치 이벤트
- **출력:** 출력 매수 선택 화면으로 전환
- **규칙:**
  - 버튼 크기: 최소 200x100px
  - 터치 영역: 버튼 크기보다 20px 더 넓게
  - 터치 피드백: 0.2초 애니메이션 효과

#### FR-HOME-003: 설정 버튼
- **우선순위:** 필수
- **설명:** 좌측 하단에 설정 아이콘 버튼 표시
- **입력:** 사용자 터치 이벤트
- **출력:** 설정 화면으로 전환
- **규칙:**
  - 버튼 크기: 60x60px
  - 위치: 화면 좌하단 (margin: 20px)
  - 관리자 확인 없이 접근 가능

### 3.2 출력 매수 선택 화면 (FR-COUNT)

#### FR-COUNT-001: 출력 매수 표시 및 조절
- **우선순위:** 필수
- **설명:** 인쇄할 매수를 - / + 버튼으로 조절
- **입력:** - 버튼 또는 + 버튼 터치
- **출력:** 현재 선택된 매수 숫자 표시
- **규칙:**
  - 초기값: 2매
  - 최소값: 1매
  - 최대값: 10매
  - 버튼 크기: 각 80x80px
  - 숫자 표시: 큰 폰트 (72pt 이상)

#### FR-COUNT-002: 촬영 시작 버튼
- **우선순위:** 필수
- **설명:** 매수 선택 후 촬영 화면으로 이동
- **입력:** 사용자 터치 이벤트
- **출력:** 카메라 화면으로 전환 및 촬영 프로세스 시작
- **규칙:**
  - 버튼 크기: 최소 200x100px
  - 버튼 위치: 화면 하단 중앙
  - 선택된 매수를 전역 상태에 저장

#### FR-COUNT-003: 뒤로가기
- **우선순위:** 권장
- **설명:** 홈 화면으로 복귀
- **입력:** 화면 좌상단 뒤로가기 버튼 터치
- **출력:** 홈 화면 표시

### 3.3 카메라 촬영 화면 (FR-CAMERA)

#### FR-CAMERA-001: 카메라 초기화
- **우선순위:** 필수
- **설명:** USB 카메라 감지 및 초기화
- **입력:** 화면 진입 이벤트
- **출력:** 카메라 스트림 활성화
- **규칙:**
  - 타임아웃: 5초 이내 초기화 완료
  - 실패 시 에러 메시지 표시 및 홈 복귀
  - 해상도: 1080p 이상

#### FR-CAMERA-002: 실시간 프리뷰
- **우선순위:** 필수
- **설명:** 카메라 영상을 실시간으로 화면에 표시
- **입력:** 카메라 비디오 스트림
- **출력:** 전체 화면 프리뷰
- **규칙:**
  - 프레임레이트: 최소 24fps
  - 레이턴시: 100ms 이하
  - 좌우 반전: 거울 모드 적용 (선택사항)

#### FR-CAMERA-003: 카운트다운 타이머
- **우선순위:** 필수
- **설명:** 촬영 전 3, 2, 1 카운트다운 표시
- **입력:** 촬영 시작 트리거
- **출력:** 화면 중앙에 큰 숫자 애니메이션
- **규칙:**
  - 각 숫자 표시 시간: 1초
  - 폰트 크기: 120pt 이상
  - 애니메이션: Fade-in + Scale 효과
  - 카운트다운 음성 효과음 재생 (선택사항)

#### FR-CAMERA-004: 사진 촬영
- **우선순위:** 필수
- **설명:** 카운트다운 종료 후 자동 촬영
- **입력:** 타이머 만료 이벤트
- **출력:** 이미지 파일 저장
- **규칙:**
  - 촬영 해상도: 카메라 최대 해상도
  - 저장 포맷: JPEG (품질 95%)
  - 파일명: `capture_{timestamp}_{index}.jpg`
  - 저장 위치: `./captures/session_{sessionId}/`

#### FR-CAMERA-005: 셔터 효과
- **우선순위:** 필수
- **설명:** 촬영 순간 시각/청각 피드백
- **입력:** 촬영 완료 이벤트
- **출력:** 화면 플래시 + 셔터 사운드
- **규칙:**
  - 플래시: 흰색 화면 0.2초 표시
  - 사운드: 기계식 셔터음 (선택 가능)
  - 진동 피드백 (하드웨어 지원 시)

#### FR-CAMERA-006: 연속 촬영
- **우선순위:** 필수
- **설명:** 4장의 사진을 자동으로 연속 촬영
- **입력:** 첫 촬영 완료
- **출력:** 4장의 이미지 파일
- **규칙:**
  - 총 촬영 매수: 4장 (고정)
  - 촬영 간격: 5초 (카운트다운 3초 + 대기 2초)
  - 각 촬영마다 카운트다운 및 셔터 효과 반복
  - 중간에 취소 불가 (워크플로우 단순화)

#### FR-CAMERA-007: 진행 상황 표시
- **우선순위:** 필수
- **설명:** 현재 촬영 진행 상태 표시
- **입력:** 현재 촬영 인덱스
- **출력:** 프로그레스 바 및 텍스트 (예: "2/4")
- **규칙:**
  - 위치: 화면 하단
  - 프로그레스 바: 25% 단위로 증가
  - 색상: 진행 부분은 강조 색상

### 3.4 이미지 합성 (FR-COMPOSE)

#### FR-COMPOSE-001: 템플릿 로드
- **우선순위:** 필수
- **설명:** 설정된 템플릿 이미지 불러오기
- **입력:** 설정에 저장된 템플릿 경로
- **출력:** 메모리에 로드된 이미지 객체
- **규칙:**
  - 템플릿 비율: 1:3 (예: 500mm x 1520mm)
  - 지원 포맷: PNG, JPG
  - 로드 실패 시 기본 템플릿 사용

#### FR-COMPOSE-002: 사진 배치 좌표 정의
- **우선순위:** 필수
- **설명:** 4장의 사진을 배치할 좌표 설정
- **입력:** 템플릿 크기 정보
- **출력:** PhotoPosition 배열 (x, y, width, height)
- **규칙:**
  - 좌표는 설정 파일에서 로드 가능
  - 기본 레이아웃:
    ```
    사진1: (50, 200, 800, 600)
    사진2: (50, 900, 800, 600)
    사진3: (50, 1600, 800, 600)
    사진4: (50, 2300, 800, 600)
    ```
  - 좌표 단위: 픽셀

#### FR-COMPOSE-003: 사진 리사이즈 및 크롭
- **우선순위:** 필수
- **설명:** 촬영된 사진을 레이아웃 크기에 맞게 조정
- **입력:** 원본 사진, 목표 크기
- **출력:** 리사이즈된 이미지 버퍼
- **규칙:**
  - 리사이즈 방식: Cover (중앙 크롭)
  - 화질 유지: 고품질 리샘플링 알고리즘
  - 비율 유지: 가로/세로 비율 무시하고 영역 채움

#### FR-COMPOSE-004: 템플릿에 사진 합성
- **우선순위:** 필수
- **설명:** 템플릿 이미지 위에 4장의 사진 오버레이
- **입력:** 템플릿, 리사이즈된 사진 4장, 배치 좌표
- **출력:** 합성된 1:3 이미지
- **규칙:**
  - 레이어 순서: 템플릿(배경) → 사진1 → 사진2 → 사진3 → 사진4
  - 알파 채널 처리: 템플릿에 투명도가 있으면 유지
  - 출력 포맷: JPEG 95% 품질

#### FR-COMPOSE-005: 이미지 좌우 복제 및 병합
- **우선순위:** 필수
- **설명:** 합성 이미지를 복제하여 좌우로 나란히 배치
- **입력:** 1:3 합성 이미지
- **출력:** 2:3 최종 이미지
- **규칙:**
  - 원본을 좌측에 배치
  - 동일한 이미지를 우측에 배치
  - 최종 크기: 원본 너비 x 2
  - 저장 경로: `./output/final_{sessionId}.jpg`

#### FR-COMPOSE-006: 합성 진행 상황 표시
- **우선순위:** 권장
- **설명:** 이미지 처리 중 로딩 인디케이터 표시
- **입력:** 처리 단계 (리사이즈, 합성, 복제)
- **출력:** 프로그레스 바 또는 스피너
- **규칙:**
  - 전체 예상 시간: 3-5초
  - 단계별 진행률 업데이트
  - 메시지: "사진을 꾸미는 중..."

### 3.5 결과 화면 및 인쇄 (FR-RESULT)

#### FR-RESULT-001: 최종 이미지 표시
- **우선순위:** 필수
- **설명:** 합성 완료된 최종 이미지를 화면에 표시
- **입력:** 최종 이미지 경로
- **출력:** 화면 중앙에 이미지 렌더링
- **규칙:**
  - 이미지 크기: 화면의 80% 영역
  - 세로 방향으로 표시
  - 여백: 균등 분배

#### FR-RESULT-002: 인쇄 상태 메시지
- **우선순ویต:** 필수
- **설명:** 인쇄 진행 상황 안내
- **입력:** 인쇄 이벤트 상태
- **출력:** 텍스트 메시지
- **규칙:**
  - 메시지 예시:
    - "📄 사진을 인쇄하고 있습니다..."
    - "✅ 인쇄가 완료되었습니다!"
    - "⚠️ 프린터 오류가 발생했습니다."
  - 위치: 이미지 하단
  - 폰트 크기: 32pt

#### FR-RESULT-003: 자동 홈 복귀 타이머
- **우선순위:** 필수
- **설명:** 30초 후 자동으로 홈 화면으로 복귀
- **입력:** 화면 진입 시간
- **출력:** 카운트다운 표시 및 화면 전환
- **규칙:**
  - 대기 시간: 30초 (설정 변경 가능)
  - 카운트다운 표시: "⏱️ 30초 후 자동 종료"
  - 1초마다 업데이트
  - 수동 복귀 버튼 제공 (선택사항)

#### FR-RESULT-004: 프린터 출력 실행
- **우선순위:** 필수
- **설명:** 최종 이미지를 캐논 셀피 포토프린터로 자동 출력
- **입력:** 최종 이미지 경로, 출력 매수
- **출력:** 프린터 작업 큐에 추가
- **규칙:**
  - 출력 매수 계산: `Math.ceil(사용자입력 / 2)`
  - 예시:
    - 1매 선택 → 1매 출력
    - 2매 선택 → 1매 출력
    - 3매 선택 → 2매 출력
    - 4매 선택 → 2매 출력
  - 백그라운드 처리: UI 블로킹 없이 비동기 실행
  - 용지 크기: 4x6 inch
  - 인쇄 품질: 최고 품질

#### FR-RESULT-005: 프린터 오류 처리
- **우선순위:** 필수
- **설명:** 프린터 오류 발생 시 사용자에게 안내
- **입력:** 프린터 에러 이벤트
- **출력:** 에러 메시지 표시
- **규칙:**
  - 일반 오류: "프린터 오류가 발생했습니다. 직원을 호출해주세요."
  - 용지 부족: "용지가 부족합니다."
  - 잉크 부족: "잉크가 부족합니다."
  - 사진 파일은 저장 유지 (수동 인쇄 가능)
  - 에러 로그 기록

### 3.6 설정 화면 (FR-SETTINGS)

#### FR-SETTINGS-001: 메인 이미지 업로드
- **우선순위:** 필수
- **설명:** 홈 화면에 표시될 메인 이미지 등록
- **입력:** 이미지 파일 (PNG, JPG)
- **출력:** 설정 저장 및 즉시 적용
- **규칙:**
  - 파일 크기 제한: 최대 10MB
  - 권장 해상도: 1080x1920 (세로)
  - 파일 선택 다이얼로그 제공
  - 미리보기 기능 제공

#### FR-SETTINGS-002: 템플릿 이미지 업로드
- **우선순위:** 필수
- **설명:** 사진 합성에 사용할 템플릿 등록
- **입력:** 이미지 파일 (PNG, JPG)
- **출력:** 설정 저장 및 즉시 적용
- **규칙:**
  - 파일 크기 제한: 최대 10MB
  - 필수 비율: 1:3 (예: 296x897px)
  - 비율 불일치 시 경고 메시지
  - 투명 배경(PNG) 지원

#### FR-SETTINGS-003: 설정 저장
- **우선순위:** 필수
- **설명:** 변경된 설정을 영구 저장
- **입력:** 설정 저장 버튼 클릭
- **출력:** 설정 파일 업데이트
- **규칙:**
  - 저장 위치: `./config/settings.json`
  - 파일 백업: 저장 전 기존 파일 백업
  - 저장 완료 토스트 메시지

#### FR-SETTINGS-004: 기본 설정 복원
- **우선순위:** 권장
- **설명:** 모든 설정을 초기값으로 복원
- **입력:** 기본값 복원 버튼 클릭
- **출력:** 설정 초기화 및 홈 복귀
- **규칙:**
  - 확인 다이얼로그 표시
  - 기본 이미지로 전환
  - 업로드된 파일은 삭제하지 않음

#### FR-SETTINGS-005: 뒤로가기
- **우선순위:** 필수
- **설명:** 홈 화면으로 복귀
- **입력:** 뒤로가기 버튼 클릭
- **출력:** 홈 화면 표시
- **규칙:**
  - 저장하지 않은 변경사항 경고 (선택사항)

### 3.7 전역 기능 (FR-GLOBAL)

#### FR-GLOBAL-001: 세션 관리
- **우선순위:** 필수
- **설명:** 각 촬영 세션에 고유 ID 부여
- **입력:** 촬영 시작 이벤트
- **출력:** UUID 생성 및 저장
- **규칙:**
  - 세션 ID 형식: `yyyyMMdd_HHmmss_UUID`
  - 세션별 폴더 생성: `./captures/session_{id}/`
  - 세션 종료 시 자동 정리

#### FR-GLOBAL-002: 프로그레스 바
- **우선순위:** 필수
- **설명:** 모든 화면에서 작업 진행 상황 표시
- **입력:** 진행률 퍼센트 (0-100)
- **출력:** 화면 상단에 프로그레스 바 렌더링
- **규칙:**
  - 높이: 4px
  - 색상: 브랜드 컬러
  - 애니메이션: 부드러운 전환 (0.3초)

#### FR-GLOBAL-003: 로딩 인디케이터
- **우선순위:** 필수
- **설명:** 비동기 작업 중 로딩 표시
- **입력:** 작업 시작/종료 이벤트
- **출력:** 스피너 또는 오버레이
- **규칙:**
  - 전체 화면 반투명 오버레이
  - 중앙에 스피너 애니메이션
  - 메시지 표시 (예: "처리 중...")

#### FR-GLOBAL-004: 에러 알림
- **우선순위:** 필수
- **설명:** 오류 발생 시 사용자에게 알림
- **입력:** 에러 객체 및 메시지
- **출력:** 모달 다이얼로그 또는 토스트
- **규칙:**
  - 심각도별 구분:
    - 에러: 빨간색 모달
    - 경고: 노란색 토스트
    - 정보: 파란색 토스트
  - 자동 닫힘: 3초 (토스트)
  - 확인 버튼: 필수 (모달)

#### FR-GLOBAL-005: 키오스크 모드
- **우선순위:** 권장
- **설명:** 전체 화면 고정 및 시스템 키 비활성화
- **입력:** 앱 시작 시 설정
- **출력:** 전체 화면 잠금 모드
- **규칙:**
  - 전체 화면 모드 강제
  - Alt+Tab, Ctrl+Alt+Del 비활성화
  - ESC 키로만 종료 가능 (관리자용)
  - 작업 표시줄 숨김

---

## 4. 비기능 요구사항

### 4.1 성능 (NFR-PERF)

#### NFR-PERF-001: 화면 전환 속도
- **요구사항:** 화면 전환은 1초 이내에 완료
- **측정 방법:** 버튼 클릭부터 새 화면 렌더링까지 시간 측정

#### NFR-PERF-002: 카메라 초기화 시간
- **요구사항:** 카메라 스트림 활성화까지 5초 이내
- **측정 방법:** 촬영 화면 진입부터 프리뷰 표시까지 시간

#### NFR-PERF-003: 이미지 합성 시간
- **요구사항:** 4장 사진 합성 및 복제 작업 5초 이내 완료
- **측정 방법:** 마지막 촬영 완료부터 최종 이미지 생성까지 시간

#### NFR-PERF-004: 메모리 사용량
- **요구사항:** 앱 실행 중 메모리 사용량 2GB 이하 유지
- **측정 방법:** Task Manager에서 메모리 사용량 모니터링

#### NFR-PERF-005: 프레임레이트
- **요구사항:** 카메라 프리뷰 최소 24fps 유지
- **측정 방법:** FPS 카운터로 실시간 측정

#### NFR-PERF-006: 프린터 출력 시간
- **요구사항:** 장당 인쇄 시간 60초 이하
- **측정 방법:** 인쇄 작업 시작부터 완료까지 시간

### 4.2 안정성 (NFR-RELIABILITY)

#### NFR-REL-001: 가동률
- **요구사항:** 일 8시간 연속 운영 시 99% 가동률
- **측정 방법:** 크래시 없이 운영된 시간 / 전체 운영 시간

#### NFR-REL-002: 오류 복구
- **요구사항:** 카메라/프린터 오류 발생 시 자동 복구 시도
- **측정 방법:** 오류 후 정상 작동 복귀율

#### NFR-REL-003: 세션 격리
- **요구사항:** 이전 세션 오류가 새 세션에 영향 없음
- **측정 방법:** 오류 후 새 세션 정상 시작 여부

#### NFR-REL-004: 데이터 무결성
- **요구사항:** 촬영된 사진 파일 손실률 0%
- **측정 방법:** 저장된 파일 수 vs 촬영 횟수

### 4.3 사용성 (NFR-USABILITY)

#### NFR-USE-001: 터치 반응성
- **요구사항:** 터치 입력 후 0.1초 이내 피드백
- **측정 방법:** 터치 이벤트부터 UI 반응까지 지연 시간

#### NFR-USE-002: 버튼 크기
- **요구사항:** 모든 주요 버튼 최소 150x80px 크기
- **측정 방법:** UI 디자인 검수

#### NFR-USE-003: 폰트 가독성
- **요구사항:** 모든 텍스트 최소 24pt 이상
- **측정 방법:** CSS 스타일 검수

#### NFR-USE-004: 학습 시간
- **요구사항:** 신규 사용자가 가이드 없이 3분 내 촬영 완료
- **측정 방법:** 사용자 테스트 (n=10 이상)

#### NFR-USE-005: 에러 메시지 명확성
- **요구사항:** 모든 에러 메시지는 일반 사용자가 이해 가능한 언어
- **측정 방법:** 사용자 설문 조사

### 4.4 유지보수성 (NFR-MAINTAINABILITY)

#### NFR-MAIN-001: 코드 구조
- **요구사항:** 모듈화된 아키텍처로 구성 (레이어 분리)
- **측정 방법:** 코드 리뷰 및 의존성 분석

#### NFR-MAIN-002: 로깅
- **요구사항:** 모든 주요 이벤트 및 에러 로그 기록
- **측정 방법:** 로그 파일 검수

#### NFR-MAIN-003: 설정 파일
- **요구사항:** 주요 설정은 코드 수정 없이 변경 가능
- **측정 방법:** 설정 파일 커버리지 (변경 가능한 값 비율)

#### NFR-MAIN-004: 문서화
- **요구사항:** 모든 공개 API 및 컴포넌트 JSDoc/주석 작성
- **측정 방법:** 문서화 커버리지 80% 이상

### 4.5 확장성 (NFR-SCALABILITY)

#### NFR-SCALE-001: 템플릿 추가
- **요구사항:** 새 템플릿 추가 시 코드 수정 불필요
- **측정 방법:** 파일 업로드만으로 적용 가능 여부

#### NFR-SCALE-002: 다국어 지원 준비
- **요구사항:** UI 텍스트는 i18n 구조로 관리
- **측정 방법:** 하드코딩된 텍스트 0개

#### NFR-SCALE-003: 촬영 매수 확장
- **요구사항:** 4장 외 6장, 8장 촬영 모드 추가 가능
- **측정 방법:** 설정 변경만으로 구현 가능 여부

---

## 5. UI/UX 요구사항

### 5.1 디자인 시스템 (UIR-DESIGN)

#### UIR-DESIGN-001: 색상 팔레트
- **주 색상 (Primary):** #FF6B9D (핑크)
- **보조 색상 (Secondary):** #4A90E2 (블루)
- **배경 색상:** #FFFFFF (화이트)
- **텍스트 색상:** #333333 (다크 그레이)
- **에러 색상:** #E74C3C (레드)
- **성공 색상:** #2ECC71 (그린)

#### UIR-DESIGN-002: 타이포그래피
- **헤드라인:** 60pt, 굵게 (Bold)
- **버튼 텍스트:** 32pt, 중간 (Medium)
- **본문:** 24pt, 일반 (Regular)
- **캡션:** 18pt, 가벼움 (Light)
- **폰트 패밀리:** Pretendard, Noto Sans KR (한글), Roboto (영문)

#### UIR-DESIGN-003: 간격 시스템
- **기본 단위:** 8px
- **작은 간격:** 8px
- **중간 간격:** 16px
- **큰 간격:** 32px
- **여유 간격:** 64px

#### UIR-DESIGN-004: 둥근 모서리 (Border Radius)
- **버튼:** 16px
- **카드:** 24px
- **이미지:** 12px

#### UIR-DESIGN-005: 그림자 (Shadow)
- **작은 그림자:** 0 2px 8px rgba(0,0,0,0.1)
- **중간 그림자:** 0 4px 16px rgba(0,0,0,0.15)
- **큰 그림자:** 0 8px 32px rgba(0,0,0,0.2)

### 5.2 애니메이션 (UIR-ANIMATION)

#### UIR-ANIM-001: 화면 전환
- **타입:** Slide (좌우) 또는 Fade
- **지속 시간:** 300ms
- **이징:** ease-in-out

#### UIR-ANIM-002: 버튼 피드백
- **타입:** Scale (0.95 → 1.0)
- **지속 시간:** 200ms
- **이징:** ease-out

#### UIR-ANIM-003: 카운트다운
- **타입:** Fade-in + Scale (0.5 → 1.2)
- **지속 시간:** 1000ms
- **이징:** cubic-bezier(0.68, -0.55, 0.265, 1.55)

#### UIR-ANIM-004: 프로그레스 바
- **타입:** Width transition
- **지속 시간:** 300ms
- **이징:** linear

#### UIR-ANIM-005: 셔터 효과
- **타입:** Opacity (0 → 1 → 0)
- **지속 시간:** 200ms
- **색상:** White

### 5.3 접근성 (UIR-ACCESSIBILITY)

#### UIR-ACCESS-001: 색상 대비
- **요구사항:** WCAG 2.1 AA 기준 (4.5:1 이상)
- **적용 대상:** 모든 텍스트 및 버튼

#### UIR-ACCESS-002: 터치 영역
- **요구사항:** 최소 48x48px (애플 가이드라인)
- **적용 대상:** 모든 인터랙티브 요소

#### UIR-ACCESS-003: 피드백
- **요구사항:** 시각, 청각 피드백 동시 제공
- **예시:** 버튼 클릭 시 색상 변화 + 클릭 사운드

#### UIR-ACCESS-004: 에러 표시
- **요구사항:** 색상만으로 표시 금지, 아이콘 + 텍스트 병행
- **예시:** ❌ + "오류 발생"

### 5.4 반응형 레이아웃 (UIR-RESPONSIVE)

#### UIR-RESP-001: 세로 모드 최적화
- **기준 해상도:** 1080x1920 (FHD 세로)
- **레이아웃:** 단일 컬럼 중앙 정렬

#### UIR-RESP-002: 가로 모드 대응
- **요구사항:** 1920x1080 (가로)에서도 사용 가능
- **레이아웃:** 콘텐츠 영역 최대 너비 제한 (1080px)

#### UIR-RESP-003: 스케일링
- **요구사항:** 다양한 해상도에서 비율 유지
- **방법:** CSS viewport units (vh, vw) 활용

---

## 6. 하드웨어 인터페이스 요구사항

### 6.1 카메라 인터페이스 (HIR-CAMERA)

#### HIR-CAM-001: 연결 방식
- **프로토콜:** USB Video Class (UVC)
- **드라이버:** Windows 표준 드라이버 사용
- **감지 방법:** DirectShow (Windows) 또는 MediaDevices API

#### HIR-CAM-002: 지원 해상도
- **최소:** 1280x720 (720p)
- **권장:** 1920x1080 (1080p)
- **최대:** 3840x2160 (4K)

#### HIR-CAM-003: 포맷
- **우선순위 1:** MJPEG
- **우선순위 2:** YUY2
- **우선순위 3:** NV12

#### HIR-CAM-004: 프레임레이트
- **최소:** 24fps
- **권장:** 30fps

#### HIR-CAM-005: 자동 설정
- **자동 초점 (AF):** 지원 권장
- **자동 노출 (AE):** 필수
- **자동 화이트밸런스 (AWB):** 필수

#### HIR-CAM-006: 연결 상태 모니터링
- **감지 주기:** 2초마다 연결 상태 확인
- **재연결:** 연결 끊김 시 자동 재시도 (최대 3회)

### 6.2 프린터 인터페이스 (HIR-PRINTER)

#### HIR-PRINT-001: 연결 방식
- **USB:** 직접 연결
- **네트워크:** IP 주소를 통한 연결 (선택사항)

#### HIR-PRINT-002: 드라이버
- **요구사항:** Windows 프린터 드라이버 설치 필수
- **호환성:** Windows Printer API 지원

#### HIR-PRINT-003: 용지 크기
- **표준:** 4x6 inch (10x15 cm)
- **방향:** 세로 (Portrait)

#### HIR-PRINT-004: 출력 품질
- **해상도:** 300 DPI 이상
- **컬러:** 풀 컬러 (24-bit)

#### HIR-PRINT-005: 상태 확인
- **모니터링 항목:**
  - 프린터 온라인/오프라인 상태
  - 용지 잔량
  - 잉크/리본 잔량
  - 에러 상태 (용지 걸림 등)
- **확인 주기:** 인쇄 작업 전 매번

#### HIR-PRINT-006: 인쇄 명령
- **API:** Windows Print Spooler API
- **방법:**
  - Electron: `node-printer` 라이브러리
  - Python: `win32print` 모듈
- **옵션:**
  - 용지 크기: 4x6
  - 품질: 최고 (Best)
  - 매수: 계산된 값

#### HIR-PRINT-007: 에러 처리
- **타임아웃:** 인쇄 작업 시작 후 120초 이내 완료
- **재시도:** 실패 시 최대 2회 재시도
- **로깅:** 모든 인쇄 작업 로그 기록

---

## 7. 데이터 요구사항

### 7.1 데이터 구조 (DR-STRUCTURE)

#### DR-STRUCT-001: 설정 파일 (settings.json)
```json
{
  "version": "1.0.0",
  "mainImage": "/assets/main-default.png",
  "templateImage": "/assets/template-default.png",
  "photoLayout": [
    {"x": 50, "y": 200, "width": 800, "height": 600},
    {"x": 50, "y": 900, "width": 800, "height": 600},
    {"x": 50, "y": 1600, "width": 800, "height": 600},
    {"x": 50, "y": 2300, "width": 800, "height": 600}
  ],
  "timerDuration": 3,
  "autoReturnDelay": 30,
  "camera": {
    "deviceId": "default",
    "resolution": {"width": 1920, "height": 1080},
    "frameRate": 30
  },
  "printer": {
    "name": "default",
    "paperSize": "4x6",
    "quality": "high"
  }
}
```

#### DR-STRUCT-002: 세션 데이터
```json
{
  "sessionId": "20251107_143052_abc123",
  "timestamp": "2025-11-07T14:30:52Z",
  "printCount": 4,
  "photos": [
    "/captures/session_abc123/capture_1.jpg",
    "/captures/session_abc123/capture_2.jpg",
    "/captures/session_abc123/capture_3.jpg",
    "/captures/session_abc123/capture_4.jpg"
  ],
  "finalImage": "/output/final_abc123.jpg",
  "printStatus": "completed",
  "errors": []
}
```

#### DR-STRUCT-003: 로그 파일 (app.log)
```
[2025-11-07 14:30:52] [INFO] Session started: abc123
[2025-11-07 14:30:55] [INFO] Camera initialized: USB2.0 Camera
[2025-11-07 14:31:02] [INFO] Photo captured: 1/4
[2025-11-07 14:31:20] [INFO] Image composition started
[2025-11-07 14:31:23] [INFO] Image composition completed
[2025-11-07 14:31:25] [INFO] Print job started: 2 copies
[2025-11-07 14:32:10] [INFO] Print job completed
[2025-11-07 14:32:15] [ERROR] Printer connection lost
```

### 7.2 파일 저장 구조 (DR-STORAGE)

#### DR-STORAGE-001: 디렉토리 구조
```
C:\PhotoboothApp\
├── config\
│   └── settings.json
├── assets\
│   ├── images\
│   │   ├── main-default.png
│   │   └── template-default.png
│   └── sounds\
│       └── shutter.mp3
├── captures\
│   └── session_{sessionId}\
│       ├── capture_1.jpg
│       ├── capture_2.jpg
│       ├── capture_3.jpg
│       └── capture_4.jpg
├── output\
│   └── final_{sessionId}.jpg
└── logs\
    └── app.log
```

#### DR-STORAGE-002: 파일 명명 규칙
- **세션 ID:** `yyyyMMdd_HHmmss_{UUID}`
- **촬영 사진:** `capture_{timestamp}_{index}.jpg`
- **최종 이미지:** `final_{sessionId}.jpg`
- **로그 파일:** `app_{yyyyMMdd}.log` (일별 로테이션)

#### DR-STORAGE-003: 자동 정리
- **촬영 사진:** 7일 후 자동 삭제
- **최종 이미지:** 30일 후 자동 삭제
- **로그 파일:** 90일 후 자동 삭제
- **정리 시간:** 매일 새벽 3시 (백그라운드)

### 7.3 데이터 보안 (DR-SECURITY)

#### DR-SEC-001: 파일 권한
- **설정 파일:** 읽기/쓰기 (관리자만)
- **사진 파일:** 읽기 전용 (저장 후)
- **로그 파일:** 추가 전용 (Append-only)

#### DR-SEC-002: 개인정보 보호
- **요구사항:** 사진에 EXIF 메타데이터 제거
- **방법:** 저장 시 메타데이터 스트립

#### DR-SEC-003: 백업
- **요구사항:** 설정 파일 변경 시 자동 백업
- **위치:** `config\backups\settings_{timestamp}.json`
- **보관 기간:** 최근 10개 백업 유지

---

## 8. 성능 요구사항

### 8.1 응답 시간 (PR-RESPONSE)

| 작업 | 최대 응답 시간 | 목표 응답 시간 |
|------|---------------|---------------|
| 화면 전환 | 1초 | 500ms |
| 버튼 터치 피드백 | 100ms | 50ms |
| 카메라 초기화 | 5초 | 3초 |
| 사진 촬영 | 500ms | 200ms |
| 이미지 합성 | 5초 | 3초 |
| 프린터 출력 (장당) | 60초 | 40초 |

### 8.2 처리량 (PR-THROUGHPUT)

#### PR-THROUGH-001: 세션 처리
- **최소:** 시간당 10세션
- **목표:** 시간당 20세션
- **피크:** 시간당 30세션

#### PR-THROUGH-002: 이미지 처리
- **합성 속도:** 초당 1장 이상
- **리사이즈 속도:** 초당 4장 이상

### 8.3 리소스 사용 (PR-RESOURCE)

#### PR-RES-001: CPU 사용률
- **유휴 상태:** 5% 이하
- **촬영 중:** 30% 이하
- **이미지 처리 중:** 70% 이하

#### PR-RES-002: 메모리 사용량
- **기본:** 500MB 이하
- **최대:** 2GB 이하
- **메모리 누수:** 24시간 운영 후 증가율 10% 이하

#### PR-RES-003: 디스크 I/O
- **쓰기 속도:** 최소 50MB/s
- **읽기 속도:** 최소 100MB/s

#### PR-RES-004: 네트워크 (프린터 네트워크 사용 시)
- **대역폭:** 최소 10Mbps
- **레이턴시:** 50ms 이하

---

## 9. 보안 및 안정성 요구사항

### 9.1 보안 (SR-SECURITY)

#### SR-SEC-001: 파일 시스템 접근
- **요구사항:** 지정된 디렉토리 외 접근 금지
- **허용 경로:** C:\PhotoboothApp\ 하위만
- **방법:** 경로 검증 미들웨어 구현

#### SR-SEC-002: 설정 파일 보호
- **요구사항:** 설정 파일 무단 수정 방지
- **방법:** 파일 체크섬 검증

#### SR-SEC-003: 외부 입력 검증
- **요구사항:** 업로드 파일 검증
- **검증 항목:**
  - 파일 확장자 화이트리스트
  - 파일 크기 제한
  - 이미지 헤더 검증 (매직 넘버)

#### SR-SEC-004: 로그 민감정보 제거
- **요구사항:** 로그에 개인정보 기록 금지
- **금지 항목:** 사용자 얼굴 이미지 경로 외 정보

### 9.2 에러 처리 (SR-ERROR)

#### SR-ERR-001: 예외 처리
- **요구사항:** 모든 비동기 작업에 try-catch 적용
- **범위:** 파일 I/O, 네트워크, 하드웨어 제어

#### SR-ERR-002: Graceful Degradation
- **카메라 오류:** 재시도 → 재부팅 안내 → 홈 복귀
- **프린터 오류:** 사진 저장 → 오류 안내 → 홈 복귀
- **합성 오류:** 원본 사진 보존 → 오류 안내 → 홈 복귀

#### SR-ERR-003: 에러 로깅
- **레벨:** DEBUG, INFO, WARN, ERROR, FATAL
- **포맷:** `[timestamp] [level] [module] message`
- **로테이션:** 일별, 최대 100MB

#### SR-ERR-004: 사용자 에러 메시지
- **요구사항:** 기술 용어 사용 금지
- **예시:**
  - ❌ "ENOENT: no such file or directory"
  - ✅ "파일을 찾을 수 없습니다"

### 9.3 복구 (SR-RECOVERY)

#### SR-REC-001: 자동 재시도
- **대상:** 카메라 연결, 프린터 연결
- **횟수:** 최대 3회
- **간격:** 지수 백오프 (1초, 2초, 4초)

#### SR-REC-002: 세션 복구
- **요구사항:** 크래시 후 미완성 세션 정리
- **방법:** 앱 시작 시 orphan 세션 파일 삭제

#### SR-REC-003: 설정 복구
- **요구사항:** 설정 파일 손상 시 백업에서 복구
- **우선순위:**
  1. 최신 백업 파일
  2. 기본 설정 값
  3. 설정 초기화 안내

---

## 10. 테스트 요구사항

### 10.1 단위 테스트 (TR-UNIT)

#### TR-UNIT-001: 커버리지
- **목표:** 코드 커버리지 80% 이상
- **필수 테스트 대상:**
  - 이미지 처리 함수
  - 상태 관리 리듀서
  - 하드웨어 서비스 클래스

#### TR-UNIT-002: 테스트 프레임워크
- **JavaScript:** Jest + React Testing Library
- **Python:** pytest

#### TR-UNIT-003: 모의 객체 (Mock)
- **카메라:** 가상 비디오 스트림
- **프린터:** 파일 출력으로 대체
- **파일 시스템:** 메모리 파일 시스템

### 10.2 통합 테스트 (TR-INTEGRATION)

#### TR-INT-001: 워크플로우 테스트
- **시나리오:**
  1. 홈 → 출력 매수 → 촬영 → 결과 → 홈
  2. 설정 업로드 → 촬영 → 템플릿 적용 확인

#### TR-INT-002: 하드웨어 통합
- **요구사항:** 실제 카메라 및 프린터 연결 테스트
- **빈도:** 주 1회 이상

#### TR-INT-003: 에러 시나리오
- **테스트 케이스:**
  - 카메라 중간 연결 해제
  - 프린터 용지 부족
  - 디스크 공간 부족
  - 네트워크 끊김 (네트워크 프린터)

### 10.3 성능 테스트 (TR-PERFORMANCE)

#### TR-PERF-001: 부하 테스트
- **시나리오:** 연속 30세션 처리
- **측정 항목:**
  - 평균 세션 처리 시간
  - 메모리 누수 여부
  - CPU/메모리 사용률

#### TR-PERF-002: 스트레스 테스트
- **시나리오:** 8시간 연속 운영
- **측정 항목:**
  - 크래시 발생 횟수
  - 응답 시간 변화
  - 리소스 누적 사용량

### 10.4 사용성 테스트 (TR-USABILITY)

#### TR-USE-001: 사용자 테스트
- **참가자:** 최소 10명 (다양한 연령대)
- **측정 항목:**
  - 작업 완료 시간
  - 에러 발생 횟수
  - 만족도 설문 (5점 척도)

#### TR-USE-002: 접근성 테스트
- **도구:** axe DevTools, WAVE
- **기준:** WCAG 2.1 AA 준수

### 10.5 수용 테스트 (TR-ACCEPTANCE)

#### TR-ACC-001: 기능 체크리스트
- [ ] 모든 FR 요구사항 충족
- [ ] 모든 NFR 목표치 달성
- [ ] 에러 시나리오 처리 확인
- [ ] 실제 환경 배포 테스트

#### TR-ACC-002: 파일럿 운영
- **기간:** 최소 1주일
- **장소:** 실제 설치 예정 환경
- **모니터링:** 일일 로그 검토 및 사용자 피드백 수집

---

## 부록 A: 용어집

| 용어 | 설명 |
|------|------|
| UVC | USB Video Class - USB 카메라 표준 프로토콜 |
| MJPEG | Motion JPEG - 비디오 압축 포맷 |
| DPI | Dots Per Inch - 인쇄 해상도 단위 |
| EXIF | Exchangeable Image File Format - 이미지 메타데이터 포맷 |
| Graceful Degradation | 일부 기능 실패 시에도 기본 기능은 유지하는 설계 |
| Kiosk Mode | 전체 화면 고정 및 시스템 키 비활성화 