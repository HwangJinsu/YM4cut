í¬í† ë¶€ìŠ¤ ì•± ì•„í‚¤í…ì²˜ ì„¤ê³„
Windows í™˜ê²½ì—ì„œ ì‘ë™í•˜ëŠ” 'ì¸ìƒë„¤ì»·' ìŠ¤íƒ€ì¼ í¬í† ë¶€ìŠ¤ ì•±ì˜ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•˜ê² ìŠµë‹ˆë‹¤.
1. ê¸°ìˆ  ìŠ¤íƒ ì„ íƒ
ê¶Œì¥: Electron + React (JavaScript/TypeScript)
ì„ íƒ ì´ìœ :

í¬ë¡œìŠ¤ í”Œë«í¼: Windows ë„¤ì´í‹°ë¸Œ ì•±ìœ¼ë¡œ íŒ¨í‚¤ì§• ê°€ëŠ¥
í•˜ë“œì›¨ì–´ ì ‘ê·¼: Node.jsë¥¼ í†µí•œ USB ì¹´ë©”ë¼, í”„ë¦°í„° ì œì–´
UI/UX: Reactë¡œ í„°ì¹˜ ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ìš©ì´
ê°œë°œ ìƒì‚°ì„±: í’ë¶€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ìƒíƒœê³„

ëŒ€ì•ˆ: Python (PyQt6 + OpenCV)

ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ì— ìœ ë¦¬
í•˜ë“œì›¨ì–´ ì œì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ í’ë¶€
ë‹¨, UI ê°œë°œì´ ìƒëŒ€ì ìœ¼ë¡œ ë³µì¡í•¨


2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Home   â”‚  Count   â”‚  Camera  â”‚  Result  â”‚ Settingsâ”‚ â”‚
â”‚  â”‚  Screen  â”‚  Select  â”‚  Screen  â”‚  Screen  â”‚ Screen  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Application Layer                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ State Managerâ”‚ Event Handlerâ”‚  Workflow Manager   â”‚  â”‚
â”‚  â”‚   (Redux)    â”‚              â”‚  (State Machine)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Business Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Camera    â”‚    Image     â”‚     Template       â”‚   â”‚
â”‚  â”‚  Service    â”‚  Processor   â”‚     Manager        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Hardware Abstraction Layer              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Camera     â”‚   Printer    â”‚   File System      â”‚   â”‚
â”‚  â”‚   Driver     â”‚   Driver     â”‚   Manager          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. í•µì‹¬ ëª¨ë“ˆ ì„¤ê³„
3.1 State Management (ìƒíƒœ ê´€ë¦¬)
typescriptinterface AppState {
  // í˜„ì¬ í™”ë©´
  currentScreen: 'home' | 'countSelect' | 'camera' | 'result' | 'settings';
  
  // ì›Œí¬í”Œë¡œìš° ìƒíƒœ
  workflow: {
    printCount: number;           // ì¶œë ¥ ë§¤ìˆ˜
    capturedPhotos: string[];     // ì´¬ì˜ëœ ì‚¬ì§„ ê²½ë¡œ (ìµœëŒ€ 4ì¥)
    finalImage: string | null;    // ìµœì¢… í•©ì„± ì´ë¯¸ì§€
    progress: number;             // ì§„í–‰ë¥  (0-100)
  };
  
  // ì„¤ì •
  settings: {
    mainImage: string;            // í™ˆ í™”ë©´ ë©”ì¸ ì´ë¯¸ì§€
    templateImage: string;        // í…œí”Œë¦¿ ì´ë¯¸ì§€
    photoLayout: PhotoPosition[]; // ì‚¬ì§„ ë°°ì¹˜ ì¢Œí‘œ
    timerDuration: number;        // ì´¬ì˜ íƒ€ì´ë¨¸ (ì´ˆ)
    autoReturnDelay: number;      // ìë™ í™ˆ ë³µê·€ ì‹œê°„ (ì´ˆ)
  };
  
  // í•˜ë“œì›¨ì–´ ìƒíƒœ
  hardware: {
    cameraConnected: boolean;
    printerConnected: boolean;
  };
}

interface PhotoPosition {
  x: number;
  y: number;
  width: number;
  height: number;
}
3.2 Camera Service (ì¹´ë©”ë¼ ì œì–´)
typescriptclass CameraService {
  private camera: any;
  private stream: MediaStream | null;
  
  // ì¹´ë©”ë¼ ì´ˆê¸°í™” ë° ì—°ê²°
  async initialize(): Promise<boolean>;
  
  // ì‹¤ì‹œê°„ í”„ë¦¬ë·° ìŠ¤íŠ¸ë¦¼ ì œê³µ
  getPreviewStream(): MediaStream;
  
  // ì‚¬ì§„ ì´¬ì˜ (ì…”í„° íš¨ê³¼ í¬í•¨)
  async capturePhoto(): Promise<Blob>;
  
  // íƒ€ì´ë¨¸ ì´¬ì˜ (ì¹´ìš´íŠ¸ë‹¤ìš´ ì½œë°± í¬í•¨)
  async captureWithTimer(
    duration: number, 
    onTick: (remaining: number) => void
  ): Promise<Blob>;
  
  // ì—°ì† ì´¬ì˜ (4ì¥)
  async captureSequence(
    interval: number,
    onCapture: (index: number, photo: Blob) => void
  ): Promise<Blob[]>;
  
  // ì¹´ë©”ë¼ í•´ì œ
  release(): void;
}
êµ¬í˜„ ë°©ë²•:

Electron: navigator.mediaDevices.getUserMedia() ì‚¬ìš©
Python: OpenCVì˜ cv2.VideoCapture() ì‚¬ìš©

3.3 Image Processor (ì´ë¯¸ì§€ í•©ì„±)
typescriptclass ImageProcessor {
  // í…œí”Œë¦¿ê³¼ ì‚¬ì§„ í•©ì„±
  async composeImage(
    templatePath: string,
    photos: string[],
    layout: PhotoPosition[]
  ): Promise<string>;
  
  // ì´ë¯¸ì§€ ì¢Œìš° ë³µì œ ë° ë³‘í•© (1:3 â†’ 2:3)
  async duplicateAndMerge(imagePath: string): Promise<string>;
  
  // ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ë° í¬ë¡­
  async resizePhoto(
    photoPath: string,
    width: number,
    height: number
  ): Promise<string>;
  
  // Base64 ë³€í™˜ (í”„ë¦¬ë·°ìš©)
  async toBase64(imagePath: string): Promise<string>;
}
êµ¬í˜„ ë¼ì´ë¸ŒëŸ¬ë¦¬:

JavaScript: sharp (ê³ ì„±ëŠ¥ ì´ë¯¸ì§€ ì²˜ë¦¬)
Python: Pillow (PIL)

3.4 Printer Service (í”„ë¦°í„° ì œì–´)
typescriptclass PrinterService {
  private printer: any;
  
  // í”„ë¦°í„° ì—°ê²° í™•ì¸
  async checkConnection(): Promise<boolean>;
  
  // ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¦°í„° ëª©ë¡
  async listPrinters(): Promise<PrinterInfo[]>;
  
  // ì´ë¯¸ì§€ ì¸ì‡„
  async print(
    imagePath: string,
    copies: number,
    onProgress: (progress: number) => void
  ): Promise<void>;
  
  // ì¸ì‡„ ì‘ì—… ì·¨ì†Œ
  cancelPrint(): void;
}
êµ¬í˜„ ë°©ë²•:

Electron: node-printer ë˜ëŠ” pdf-to-printer ë¼ì´ë¸ŒëŸ¬ë¦¬
Python: win32print (Windows API)

3.5 Workflow Manager (ì›Œí¬í”Œë¡œìš° ê´€ë¦¬)
typescriptclass WorkflowManager {
  private stateMachine: StateMachine;
  
  // ì›Œí¬í”Œë¡œìš° ì‹œì‘
  async startWorkflow(printCount: number): Promise<void>;
  
  // ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰
  async nextStep(): Promise<void>;
  
  // ì´¬ì˜ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰
  async executeCameraFlow(): Promise<void>;
  
  // ì´ë¯¸ì§€ í•©ì„± í”„ë¡œì„¸ìŠ¤
  async executeComposition(): Promise<void>;
  
  // ì¸ì‡„ ë° ì¢…ë£Œ í”„ë¡œì„¸ìŠ¤
  async executePrintAndFinish(): Promise<void>;
  
  // í™ˆìœ¼ë¡œ ë³µê·€
  async returnToHome(delay: number): Promise<void>;
  
  // ì›Œí¬í”Œë¡œìš° ì·¨ì†Œ
  cancelWorkflow(): void;
}
```

---

## 4. í™”ë©´ êµ¬ì„± ë° UI ì»´í¬ë„ŒíŠ¸

### 4.1 Home Screen (í™ˆ í™”ë©´)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                â”‚
â”‚       [ë©”ì¸ ì´ë¯¸ì§€ ì˜ì—­]         â”‚
â”‚                                â”‚
â”‚                                â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚        â”‚  ì‹œ  ì‘  â”‚            â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                â”‚
â”‚ [âš™ï¸ì„¤ì •]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì»´í¬ë„ŒíŠ¸:**
- `MainImageDisplay`: ë©”ì¸ ì´ë¯¸ì§€ í‘œì‹œ
- `StartButton`: ì‹œì‘ ë²„íŠ¼ (í° í„°ì¹˜ ì˜ì—­)
- `SettingsButton`: ì„¤ì • ë²„íŠ¼ (ì¢Œì¸¡ í•˜ë‹¨)

### 4.2 Count Select Screen (ì¶œë ¥ ë§¤ìˆ˜ ì„ íƒ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                â”‚
â”‚        ì¶œë ¥ ë§¤ìˆ˜ ì„ íƒ           â”‚
â”‚                                â”‚
â”‚      [-]   [  4  ]   [+]      â”‚
â”‚                                â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚        â”‚  ì´¬  ì˜  â”‚            â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì»´í¬ë„ŒíŠ¸:**
- `CountSelector`: ì¦ê° í† ê¸€ ì»´í¬ë„ŒíŠ¸
- `CaptureButton`: ì´¬ì˜ ì‹œì‘ ë²„íŠ¼

### 4.3 Camera Screen (ì´¬ì˜ í™”ë©´)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ì‹¤ì‹œê°„ ì¹´ë©”ë¼ í”„ë¦¬ë·°]         â”‚
â”‚                                â”‚
â”‚                                â”‚
â”‚         â±ï¸ 3                   â”‚
â”‚                                â”‚
â”‚    â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘ 2/4           â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì»´í¬ë„ŒíŠ¸:**
- `CameraPreview`: ì‹¤ì‹œê°„ í”„ë¦¬ë·°
- `CountdownTimer`: ì¹´ìš´íŠ¸ë‹¤ìš´ ì˜¤ë²„ë ˆì´
- `ProgressIndicator`: ì´¬ì˜ ì§„í–‰ ìƒí™© (2/4)
- `ShutterEffect`: ì…”í„° í”Œë˜ì‹œ íš¨ê³¼

### 4.4 Result Screen (ê²°ê³¼ í™”ë©´)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                â”‚
â”‚    [ìµœì¢… í•©ì„± ì´ë¯¸ì§€ í”„ë¦¬ë·°]    â”‚
â”‚                                â”‚
â”‚                                â”‚
â”‚  ğŸ“„ ì‚¬ì§„ ì¸í™” ì¤‘...            â”‚
â”‚  â±ï¸ 30ì´ˆ í›„ ìë™ ì¢…ë£Œ          â”‚
â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì»´í¬ë„ŒíŠ¸:**
- `ResultImageDisplay`: ìµœì¢… ì´ë¯¸ì§€ í‘œì‹œ
- `PrintStatusMessage`: ì¸ì‡„ ìƒíƒœ ì•ˆë‚´
- `AutoReturnTimer`: ìë™ ë³µê·€ íƒ€ì´ë¨¸

### 4.5 Settings Screen (ì„¤ì • í™”ë©´)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ë’¤ë¡œê°€ê¸°                     â”‚
â”‚                                â”‚
â”‚  ë©”ì¸ ì´ë¯¸ì§€:                   â”‚
â”‚  [íŒŒì¼ ì„ íƒ] [ì—…ë¡œë“œ]           â”‚
â”‚                                â”‚
â”‚  í…œí”Œë¦¿ ì´ë¯¸ì§€:                 â”‚
â”‚  [íŒŒì¼ ì„ íƒ] [ì—…ë¡œë“œ]           â”‚
â”‚                                â”‚
â”‚        [ì €ì¥í•˜ê¸°]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì»´í¬ë„ŒíŠ¸:**
- `ImageUploader`: íŒŒì¼ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸
- `SettingsForm`: ì„¤ì • í¼

---

## 5. ë°ì´í„° íë¦„ (Sequence Diagram)
```
ì‚¬ìš©ì â†’ í™ˆí™”ë©´ â†’ ì¶œë ¥ë§¤ìˆ˜ ì„ íƒ â†’ ì´¬ì˜ â†’ í•©ì„± â†’ ì¸ì‡„ â†’ í™ˆí™”ë©´

[ì‹œì‘ ë²„íŠ¼]
    â†“
[ì¶œë ¥ë§¤ìˆ˜ ì„ íƒ] â†’ printCount ì €ì¥
    â†“
[ì´¬ì˜ ì‹œì‘]
    â†“
ì¹´ë©”ë¼ ì´ˆê¸°í™” â†’ í”„ë¦¬ë·° ì‹œì‘
    â†“
[íƒ€ì´ë¨¸ ì´¬ì˜ 4íšŒ ë°˜ë³µ]
  - ì¹´ìš´íŠ¸ë‹¤ìš´ 3, 2, 1
  - ì…”í„° íš¨ê³¼ìŒ
  - ì‚¬ì§„ ì €ì¥
  - ì§„í–‰ë¥  ì—…ë°ì´íŠ¸ (25%, 50%, 75%, 100%)
    â†“
[ì´ë¯¸ì§€ í•©ì„±]
  - í…œí”Œë¦¿ ë¡œë“œ
  - ì‚¬ì§„ 4ì¥ ë°°ì¹˜
  - ì¢Œìš° ë³µì œ ë³‘í•©
  - ìµœì¢… ì´ë¯¸ì§€ ìƒì„±
    â†“
[ê²°ê³¼ í™”ë©´ í‘œì‹œ]
    â†“
[í”„ë¦°í„° ì¶œë ¥] (ë°±ê·¸ë¼ìš´ë“œ)
  - ì¶œë ¥ ë§¤ìˆ˜ ê³„ì‚°: Math.ceil(printCount / 2)
  - ì¸ì‡„ ì§„í–‰
    â†“
[30ì´ˆ íƒ€ì´ë¨¸]
    â†“
[í™ˆ í™”ë©´ ë³µê·€]
```

---

## 6. íŒŒì¼ êµ¬ì¡° (Electron + React ê¸°ì¤€)
```
photobooth-app/
â”œâ”€â”€ electron/                    # Electron ë©”ì¸ í”„ë¡œì„¸ìŠ¤
â”‚   â”œâ”€â”€ main.js                 # ì•± ì§„ì…ì 
â”‚   â”œâ”€â”€ preload.js              # ë³´ì•ˆ ë¸Œë¦¿ì§€
â”‚   â””â”€â”€ services/               # í•˜ë“œì›¨ì–´ ì„œë¹„ìŠ¤
â”‚       â”œâ”€â”€ camera.service.js
â”‚       â”œâ”€â”€ printer.service.js
â”‚       â””â”€â”€ image.processor.js
â”‚
â”œâ”€â”€ src/                        # React ë Œë”ëŸ¬ í”„ë¡œì„¸ìŠ¤
â”‚   â”œâ”€â”€ components/             # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressBar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TouchButton.tsx
â”‚   â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CountSelectScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CameraScreen.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ResultScreen.tsx
â”‚   â”‚   â”‚   â””â”€â”€ SettingsScreen.tsx
â”‚   â”‚   â””â”€â”€ features/
â”‚   â”‚       â”œâ”€â”€ CameraPreview.tsx
â”‚   â”‚       â”œâ”€â”€ CountdownTimer.tsx
â”‚   â”‚       â””â”€â”€ ShutterEffect.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ store/                  # Redux ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ slices/
â”‚   â”‚   â”‚   â”œâ”€â”€ workflowSlice.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ settingsSlice.ts
â”‚   â”‚   â”‚   â””â”€â”€ hardwareSlice.ts
â”‚   â”‚   â””â”€â”€ store.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/               # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ workflowManager.ts
â”‚   â”‚   â””â”€â”€ api.ts             # IPC í†µì‹ 
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                  # Custom Hooks
â”‚   â”‚   â”œâ”€â”€ useCamera.ts
â”‚   â”‚   â””â”€â”€ useWorkflow.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                 # ì •ì  íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ sounds/
â”‚   â”‚   â”‚   â””â”€â”€ shutter.mp3
â”‚   â”‚   â””â”€â”€ images/
â”‚   â”‚       â”œâ”€â”€ default-main.png
â”‚   â”‚       â””â”€â”€ default-template.png
â”‚   â”‚
â”‚   â””â”€â”€ App.tsx                 # ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸
â”‚
â”œâ”€â”€ public/                     # ê³µìš© ìì‚°
â”œâ”€â”€ package.json
â””â”€â”€ electron-builder.json       # ë¹Œë“œ ì„¤ì •

7. í•µì‹¬ ê¸°ìˆ  êµ¬í˜„ ìƒì„¸
7.1 ì´ë¯¸ì§€ í•©ì„± ì•Œê³ ë¦¬ì¦˜
typescriptasync function composePhotos(
  templatePath: string,
  photos: string[],
  layout: PhotoPosition[]
): Promise<string> {
  const sharp = require('sharp');
  
  // 1. í…œí”Œë¦¿ ë¡œë“œ (1:3 ë¹„ìœ¨)
  const template = sharp(templatePath);
  const metadata = await template.metadata();
  
  // 2. ê° ì‚¬ì§„ì„ ë ˆì´ì•„ì›ƒì— ë§ê²Œ ë¦¬ì‚¬ì´ì¦ˆ ë° ë°°ì¹˜
  const compositeImages = await Promise.all(
    photos.map(async (photo, index) => {
      const pos = layout[index];
      const resized = await sharp(photo)
        .resize(pos.width, pos.height, { fit: 'cover' })
        .toBuffer();
      
      return {
        input: resized,
        left: pos.x,
        top: pos.y
      };
    })
  );
  
  // 3. í…œí”Œë¦¿ì— ì‚¬ì§„ í•©ì„±
  const composed = await template
    .composite(compositeImages)
    .toBuffer();
  
  // 4. ì¢Œìš° ë³µì œ ë° ë³‘í•© (2:3 ë¹„ìœ¨)
  const final = await sharp({
    create: {
      width: metadata.width * 2,
      height: metadata.height,
      channels: 3,
      background: { r: 255, g: 255, b: 255 }
    }
  })
  .composite([
    { input: composed, left: 0, top: 0 },
    { input: composed, left: metadata.width, top: 0 }
  ])
  .jpeg({ quality: 95 })
  .toFile('output/final.jpg');
  
  return 'output/final.jpg';
}
7.2 í”„ë¦°í„° ì¶œë ¥ ë§¤ìˆ˜ ê³„ì‚°
typescriptfunction calculatePrintCopies(userInput: number): number {
  // ì‚¬ìš©ì ì…ë ¥ì„ 2ë¡œ ë‚˜ëˆ„ê³  ë°˜ì˜¬ë¦¼
  // ì˜ˆ: 1ë§¤ â†’ 1ë§¤, 2ë§¤ â†’ 1ë§¤, 3ë§¤ â†’ 2ë§¤, 4ë§¤ â†’ 2ë§¤
  return Math.ceil(userInput / 2);
}
7.3 IPC í†µì‹  (Electron)
typescript// preload.js - ë³´ì•ˆ ë¸Œë¦¿ì§€
const { contextBridge, ipcRenderer } = require('electron');

contextBridge.exposeInMainWorld('electronAPI', {
  // ì¹´ë©”ë¼
  initCamera: () => ipcRenderer.invoke('camera:init'),
  capturePhoto: () => ipcRenderer.invoke('camera:capture'),
  
  // í”„ë¦°í„°
  print: (imagePath, copies) => 
    ipcRenderer.invoke('printer:print', imagePath, copies),
  
  // ì´ë¯¸ì§€ ì²˜ë¦¬
  composeImage: (template, photos, layout) =>
    ipcRenderer.invoke('image:compose', template, photos, layout),
  
  // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
  onPrintProgress: (callback) => 
    ipcRenderer.on('printer:progress', callback)
});

8. ì„±ëŠ¥ ìµœì í™” ì „ëµ

ì´ë¯¸ì§€ ì²˜ë¦¬

ë°±ê·¸ë¼ìš´ë“œ ì›Œì»¤ì—ì„œ ì²˜ë¦¬
í”„ë¦¬ë·°ìš© ì €í•´ìƒë„, ì¸ì‡„ìš© ê³ í•´ìƒë„ ë¶„ë¦¬


ë©”ëª¨ë¦¬ ê´€ë¦¬

ì´¬ì˜ ì™„ë£Œ í›„ ì¹´ë©”ë¼ ìŠ¤íŠ¸ë¦¼ ì¦‰ì‹œ í•´ì œ
ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ë²„í¼ ì •ë¦¬


í”„ë¦°í„° ì¶œë ¥

ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ UI ë¸”ë¡œí‚¹ ë°©ì§€
í”„ë¦°í„° ìŠ¤í’€ëŸ¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§


UI ë°˜ì‘ì„±

í„°ì¹˜ ì´ë²¤íŠ¸ ìµœì í™” (300ms delay ì œê±°)
CSS transformì„ ì‚¬ìš©í•œ ì• ë‹ˆë©”ì´ì…˜




9. ì—ëŸ¬ ì²˜ë¦¬ ë° ì˜ˆì™¸ ìƒí™©
typescriptclass ErrorHandler {
  // ì¹´ë©”ë¼ ì—°ê²° ì‹¤íŒ¨
  handleCameraError(): void {
    showAlert('ì¹´ë©”ë¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. USB ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
    returnToHome();
  }
  
  // í”„ë¦°í„° ì—°ê²° ì‹¤íŒ¨
  handlePrinterError(): void {
    showAlert('í”„ë¦°í„° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ìš©ì§€ì™€ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
    // ì‚¬ì§„ì€ ì €ì¥í•˜ê³  í™ˆìœ¼ë¡œ ë³µê·€
  }
  
  // ì´ë¯¸ì§€ í•©ì„± ì‹¤íŒ¨
  handleCompositionError(): void {
    showAlert('ì´ë¯¸ì§€ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    returnToHome();
  }
  
  // ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
  handleStorageError(): void {
    showAlert('ì €ì¥ ê³µê°„ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.');
    cleanupOldFiles();
  }
}

10. ë°°í¬ ë° íŒ¨í‚¤ì§•
Electron ë¹Œë“œ ì„¤ì •
json{
  "build": {
    "appId": "com.yourcompany.photobooth",
    "productName": "ì¸ìƒë„¤ì»· í¬í† ë¶€ìŠ¤",
    "win": {
      "target": ["nsis"],
      "icon": "build/icon.ico"
    },
    "nsis": {
      "oneClick": false,
      "allowToChangeInstallationDirectory": true
    }
  }
}
ì‹œì‘ í”„ë¡œê·¸ë¨ ë“±ë¡ (Kiosk Mode)
typescript// ë¶€íŒ… ì‹œ ìë™ ì‹¤í–‰ + ì „ì²´ í™”ë©´
app.setLoginItemSettings({
  openAtLogin: true,
  path: app.getPath('exe')
});

mainWindow.setFullScreen(true);
mainWindow.setKiosk(true); // í‚¤ì˜¤ìŠ¤í¬ ëª¨ë“œ
